import{c as N,j as e,r as x,L as l}from"./index-Cajg6Qr7.js";import{u as f,a as v,b as y}from"./useSpaceTraders-DaRezP3D.js";import{f as h,a as w,b as g,g as C}from"./helpers-DIVcxWFQ.js";import{L as T}from"./LoadingState-CrclXfPb.js";import{C as S}from"./coins-BC5OTqI8.js";import{R as c}from"./rocket-BZJ9pIWx.js";import{F as d}from"./file-text-BeH1VzNn.js";import{M as b}from"./map-pin-Y__dtIf8.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],L=N("trending-up",I),E=()=>{const{data:t,isLoading:p}=f(),{data:a,isLoading:u}=v(),{data:r,isLoading:o}=y();if(p||u||o)return e.jsx("div",{className:"p-6",children:e.jsx(T,{label:"Command Center",description:"Calibrating mission controls..."})});const j=x.useMemo(()=>[{label:"Total Credits",value:t?h(t.credits):"-",icon:S,color:"text-yellow-400",bgColor:"bg-yellow-500/10"},{label:"Fleet Size",value:t?w(t.shipCount):"-",icon:c,color:"text-blue-400",bgColor:"bg-blue-500/10"},{label:"Active Contracts",value:r?r.filter(s=>s.accepted&&!s.fulfilled).length.toString():"-",icon:d,color:"text-green-400",bgColor:"bg-green-500/10"},{label:"Headquarters",value:t?.headquarters?.split("-").slice(-1)[0]||"-",icon:b,color:"text-purple-400",bgColor:"bg-purple-500/10"}],[t,r]),m=x.useMemo(()=>a?.filter(s=>s.nav.status==="IN_TRANSIT"||s.nav.status==="IN_ORBIT")||[],[a]);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Command Center"}),e.jsxs("p",{className:"text-gray-400",children:["Welcome back, Agent ",t?.symbol,". Your headquarters: ",t?.headquarters]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:j.map(s=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:s.label}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s.value})]}),e.jsx("div",{className:`p-3 rounded-lg ${s.bgColor}`,children:e.jsx(s.icon,{className:`w-6 h-6 ${s.color}`})})]})},s.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Fleet Status"}),e.jsx(l,{to:"/fleet",className:"text-space-accent hover:underline text-sm",children:"View All →"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"In Transit"}),e.jsx("span",{className:"text-white font-semibold",children:a?.filter(s=>s.nav.status==="IN_TRANSIT").length||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"In Orbit"}),e.jsx("span",{className:"text-white font-semibold",children:a?.filter(s=>s.nav.status==="IN_ORBIT").length||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"Docked"}),e.jsx("span",{className:"text-white font-semibold",children:a?.filter(s=>s.nav.status==="DOCKED").length||0})]})]}),m.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Ships in Transit"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.slice(0,5).map(s=>e.jsxs(l,{to:`/fleet/${s.symbol}`,className:"flex items-center justify-between p-2 hover:bg-gray-800/50 rounded transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-white",children:s.registration.name})]}),s.nav.status==="IN_TRANSIT"&&s.nav.route.arrival&&e.jsxs("span",{className:"text-xs text-gray-400",children:["ETA: ",g(s.nav.route.arrival)]})]},s.symbol))})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Active Contracts"}),e.jsx(l,{to:"/contracts",className:"text-space-accent hover:underline text-sm",children:"View All →"})]}),o?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading contracts..."}):r&&r.length>0?e.jsx("div",{className:"space-y-3",children:r.filter(s=>s.accepted&&!s.fulfilled).slice(0,3).map(s=>e.jsxs("div",{className:"p-3 bg-gray-800/50 rounded",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:s.type}),e.jsx("span",{className:"badge badge-info text-xs",children:s.factionSymbol})]}),s.terms.deliver.map((i,n)=>e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Deliver: ",i.tradeSymbol," (",i.unitsFulfilled,"/",i.unitsRequired,")"]},n)),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-700",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["Deadline: ",g(s.terms.deadline)]}),e.jsx("span",{className:"text-xs text-green-400",children:h(s.terms.payment.onFulfilled)})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(d,{className:"w-12 h-12 text-gray-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No active contracts"}),e.jsx(l,{to:"/contracts",className:"text-space-accent hover:underline text-sm mt-2 inline-block",children:"Find Contracts"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Fleet Distribution"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a&&[...new Set(a.map(s=>s.registration.role))].map(s=>{const i=a.filter(n=>n.registration.role===s).length;return e.jsxs("div",{className:"p-3 bg-gray-800/50 rounded",children:[e.jsx("span",{className:`badge ${C(s)} mb-2`,children:s.replace("_"," ")}),e.jsx("p",{className:"text-2xl font-bold text-white",children:i})]},s)})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs(l,{to:"/fleet",className:"p-4 bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/30 rounded-lg transition-colors text-center",children:[e.jsx(c,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-blue-400",children:"Manage Fleet"})]}),e.jsxs(l,{to:"/markets",className:"p-4 bg-green-500/10 hover:bg-green-500/20 border border-green-500/30 rounded-lg transition-colors text-center",children:[e.jsx(L,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-green-400",children:"View Markets"})]}),e.jsxs(l,{to:"/contracts",className:"p-4 bg-purple-500/10 hover:bg-purple-500/20 border border-purple-500/30 rounded-lg transition-colors text-center",children:[e.jsx(d,{className:"w-6 h-6 text-purple-400 mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-purple-400",children:"Contracts"})]}),e.jsxs(l,{to:"/navigation",className:"p-4 bg-yellow-500/10 hover:bg-yellow-500/20 border border-yellow-500/30 rounded-lg transition-colors text-center",children:[e.jsx(b,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-yellow-400",children:"Navigate"})]})]})]})]})};export{E as default};
