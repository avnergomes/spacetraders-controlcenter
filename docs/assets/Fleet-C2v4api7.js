import{c as w,r as t,j as e,L}from"./index-Cajg6Qr7.js";import{a as C}from"./useSpaceTraders-DaRezP3D.js";import{c as m,g as R,b as T}from"./helpers-DIVcxWFQ.js";import{L as k}from"./LoadingState-CrclXfPb.js";import{R as x}from"./rocket-BZJ9pIWx.js";import{M as A}from"./map-pin-Y__dtIf8.js";import{C as I}from"./clock-B4d008v6.js";import{F}from"./fuel-Cb5d81pG.js";import{P as _}from"./package-QTFXR8Bq.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$=w("search",O),D={DOCKED:"badge-success",IN_ORBIT:"badge-warning",IN_TRANSIT:"badge-info"},G=()=>{const{data:s,isLoading:r}=C(),[l,u]=t.useState(""),[c,g]=t.useState("ALL"),[n,j]=t.useState("ALL"),o=t.useDeferredValue(l),d=t.useMemo(()=>{if(!s)return[];const a=o.trim().toLowerCase();return s.filter(i=>{const f=!a||i.symbol.toLowerCase().includes(a)||i.registration.name.toLowerCase().includes(a),y=c==="ALL"||i.registration.role===c,S=n==="ALL"||i.nav.status===n;return f&&y&&S})},[s,o,c,n]),b=t.useMemo(()=>s?[...new Set(s.map(a=>a.registration.role))]:[],[s]),p=t.useCallback(a=>{u(a.target.value)},[]),N=t.useCallback(a=>{g(a.target.value)},[]),v=t.useCallback(a=>{j(a.target.value)},[]);return r?e.jsx("div",{className:"p-6",children:e.jsx(k,{label:"Fleet",description:"Synchronising ship manifests..."})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Fleet Management"}),e.jsxs("p",{className:"text-gray-400",children:["Total Ships: ",s?.length||0]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:p,placeholder:"Search by name or symbol...",className:"input w-full pl-10","aria-label":"Search ships by name or symbol"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Role"}),e.jsxs("select",{value:c,onChange:N,className:"input w-full","aria-label":"Filter ships by role",children:[e.jsx("option",{value:"ALL",children:"All Roles"}),b.map(a=>e.jsx("option",{value:a,children:a.replace("_"," ")},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),e.jsxs("select",{value:n,onChange:v,className:"input w-full","aria-label":"Filter ships by status",children:[e.jsx("option",{value:"ALL",children:"All Statuses"}),e.jsx("option",{value:"DOCKED",children:"Docked"}),e.jsx("option",{value:"IN_ORBIT",children:"In Orbit"}),e.jsx("option",{value:"IN_TRANSIT",children:"In Transit"})]})]})]})}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:d.map(a=>e.jsx(h,{ship:a},a.symbol))}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx(x,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No ships found matching your filters"})]})]})},h=t.memo(({ship:s})=>{const r=m(s.fuel.current,s.fuel.capacity),l=m(s.cargo.units,s.cargo.capacity);return e.jsxs(L,{to:`/fleet/${s.symbol}`,className:"card hover:border-space-accent transition-all duration-200 block",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:s.registration.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.symbol})]}),e.jsx(x,{className:"w-8 h-8 text-space-accent"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("span",{className:`badge ${R(s.registration.role)}`,children:s.registration.role.replace("_"," ")}),e.jsx("span",{className:`badge ${D[s.nav.status]}`,children:s.nav.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-4",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:s.nav.waypointSymbol})]}),s.nav.status==="IN_TRANSIT"&&s.nav.route.arrival&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-400 mb-4 p-2 bg-blue-500/10 rounded",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsxs("span",{children:["Arrives in ",T(s.nav.route.arrival)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[e.jsx(F,{className:"w-3 h-3"}),e.jsx("span",{children:"Fuel"})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${r>50?"bg-green-500":r>25?"bg-yellow-500":"bg-red-500"}`,style:{width:`${r}%`}})}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[s.fuel.current," / ",s.fuel.capacity]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[e.jsx(_,{className:"w-3 h-3"}),e.jsx("span",{children:"Cargo"})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${l<80?"bg-blue-500":l<100?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l}%`}})}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[s.cargo.units," / ",s.cargo.capacity]})]})]})]})});h.displayName="ShipCard";export{G as default};
