import{u as w,a as A,r as a,j as e,b as o}from"./index-Cajg6Qr7.js";import{R as k}from"./rocket-BZJ9pIWx.js";import{C as g}from"./circle-alert-twBBD7cj.js";const E=()=>{const x=w(),m=A(t=>t.setAuth),[d,p]=a.useState("login"),[r,b]=a.useState(""),[u,y]=a.useState(""),[h,f]=a.useState("COSMIC"),[n,l]=a.useState(!1),[i,c]=a.useState(""),j=[{value:"COSMIC",label:"Cosmic Engineers",description:"Masters of advanced technology"},{value:"VOID",label:"Voidfarers",description:"Explorers of the unknown"},{value:"GALACTIC",label:"Galactic Alliance",description:"United for peace and prosperity"},{value:"QUANTUM",label:"Quantum Federation",description:"Pioneers of quantum mechanics"},{value:"DOMINION",label:"Star Dominion",description:"Military powerhouse"},{value:"ASTRO",label:"Astro-Salvage Alliance",description:"Salvagers and recyclers"}],v=async t=>{t.preventDefault(),l(!0),c("");try{o.setAuthToken(r);const s=await o.getMyAgent();m(r,s),x("/")}catch(s){c(s.response?.data?.error?.message||"Failed to authenticate. Please check your token."),o.clearAuthToken()}finally{l(!1)}},N=async t=>{t.preventDefault(),l(!0),c("");try{const s=await o.registerAgent(u,h);m(s.token,s.agent),x("/")}catch(s){c(s.response?.data?.error?.message||"Failed to register. Please try a different agent symbol.")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-space-dark via-space-blue to-space-dark p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-20 h-20 bg-space-accent rounded-full flex items-center justify-center",children:e.jsx(k,{className:"w-10 h-10 text-white"})})}),e.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"SpaceTraders"}),e.jsx("p",{className:"text-gray-400",children:"Control Center"})]}),e.jsxs("div",{className:"flex gap-2 p-1 bg-gray-800 rounded-lg",children:[e.jsx("button",{onClick:()=>p("login"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${d==="login"?"bg-space-accent text-white":"text-gray-400 hover:text-white"}`,children:"Login"}),e.jsx("button",{onClick:()=>p("register"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${d==="register"?"bg-space-accent text-white":"text-gray-400 hover:text-white"}`,children:"Register"})]}),e.jsx("div",{className:"card",children:d==="login"?e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Authentication Token"}),e.jsx("input",{type:"password",value:r,onChange:t=>b(t.target.value),className:"input w-full",placeholder:"Enter your SpaceTraders token",required:!0}),e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Enter your existing SpaceTraders API token to access your account."})]}),i&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded text-red-400 text-sm",children:[e.jsx(g,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:i})]}),e.jsx("button",{type:"submit",disabled:n||!r,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Authenticating...":"Login"})]}):e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Agent Symbol"}),e.jsx("input",{type:"text",value:u,onChange:t=>y(t.target.value.toUpperCase()),className:"input w-full",placeholder:"AGENT_NAME",pattern:"[A-Z0-9_-]{3,14}",required:!0}),e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"3-14 characters, uppercase letters, numbers, underscores, and hyphens only."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Starting Faction"}),e.jsx("select",{value:h,onChange:t=>f(t.target.value),className:"input w-full",required:!0,children:j.map(t=>e.jsxs("option",{value:t.value,children:[t.label," - ",t.description]},t.value))})]}),i&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded text-red-400 text-sm",children:[e.jsx(g,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:i})]}),e.jsx("button",{type:"submit",disabled:n||!u,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating Agent...":"Register New Agent"}),e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Registration will create a new agent and provide you with an API token. Save this token securely!"})]})}),e.jsx("div",{className:"text-center text-sm text-gray-400",children:e.jsxs("p",{children:["SpaceTraders is an open-universe game played through an API.",e.jsx("br",{}),"Visit"," ",e.jsx("a",{href:"https://spacetraders.io",target:"_blank",rel:"noopener noreferrer",className:"text-space-accent hover:underline",children:"spacetraders.io"})," ","to learn more."]})})]})})};export{E as default};
